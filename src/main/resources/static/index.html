<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>统计平台</title>
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
<style type="text/css">
	.btn-group{
		padding:0;
	}
	.col-md-6{
		padding-right:0；
	}
</style>
</head>
<link rel="stylesheet" type="text/css" href="css/style.css?vr=137">
<link rel="stylesheet" type="text/css" href="css/jquery-ui.min.css">

<body>
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" href="">统计平台</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li class="main-menu-li active">
					   <a href="javascript:;" id="statisticsMain" class="main-menu">统计</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<div id="wrapper">
		<div id="main">
			<div class="row marginTop">
				<form class="form-inline">
		  			<div class="form-group marginLeftAndRight">
		    			<label class="searchKeyMargin">标题</label>
		    			<input type="text" id="searchTitle" class="form-control searchValueMargin" placeholder="模糊搜索">
		  			</div>
		  			<div class="form-group marginLeftAndRight">
		    			<label class="searchKeyMargin">渠道</label>
						<select id="channelList"  class="form-control searchValueMargin"></select>
		  			</div>
					<button id="searchStatistics" type="button" class="btn btn-success">查找</button>
				</form>
			</div>
			<div id="videoListTmpl">
			</div>
		</div>
	</div>
	<div class="modal fade" id="knowledgeModal" tabindex="-1" role="dialog" aria-labelledby="knowledgeModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content" style="width:900px;">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title">
						添加知识策略
					</h4>
				</div>
				<div class="modal-body">
					<form class="form-horizontal" id="knowledgeForm">
						<input type="hidden" id="knowledgeSubType" value="" />
						<div class="form-group form-group-sm">
							<label class="col-sm-3 control-label">知识策略名</label>
							<div class="col-sm-5">
								<input type="text" class="col-sm-6 form-control" id="knowledgeStrategyName" />
							</div>
							<label class="col-sm-4 clue">只能为数字和英文字母，且以英文开头</label>
						</div>
						<div class="form-group form-group-sm">
							<label class="col-sm-3 control-label">知识策略描述</label>
							<div class="col-sm-5">
								<input type="text" class="form-control" id="knowledgeStrategyDesc" />
							</div>
							<label class="col-sm-4 clue">知识策略的中文描述</label>
						</div>
						<div class="form-group form-group-sm">
							<label class="col-sm-3 control-label">数据过期时间</label>
							<div class="col-sm-5">
								<input type="text" class="form-control" id="knowledgeStrategyExpi" />
							</div>
							<label class="col-sm-4 clue">单位为秒,表示策略产生的数据保存时间</label>
						</div>
						<div class="form-group form-group-sm">
							<label class="col-sm-3 control-label">启用</label>
							<div class="col-sm-5" style="margin-top: 4px;">
									<input type="radio" name="knowledgeStatus"  value="1" checked />是
									<input type="radio" name="knowledgeStatus"  value="0" />否
							</div>
						</div>
						<div class="form-group form-group-sm">
							<div class="col-sm-1"></div>
							<div class="col-sm-11">
								<button type="button" id="addTriggerBtn" class="btn btn-success btn-sm">添加触发应用</button>
							</div>
						</div>
						<div class="form-group form-group-sm">
							<div class="col-sm-1"></div>
							<div class="col-sm-10">
								<div class="row">
								    <table class="table table-striped triggerListTable">
										<thead>
									        <tr>
									          <th style="width: 100px;">trigger名</th>
									          <th>sql</th>
											  <th style="width: 40px;">op</th>
											  <th>value</th>
											  <th style="width: 125px;">strategyName</th>
											  <th style="width: 100px;">持久化知识</th>
									          <th style="width: 95px;">操作</th>
									        </tr>
								      	</thead>
										<tbody id="triggerListtbody">
								      	</tbody>
									</table>
								</div>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
					<button type="button" class="btn btn-primary" id="knowledgeModalSubBtn">
						提交更改
					</button>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal -->
	</div>
	
	<script id="statisticsMainTmpl" type="text/x-jquery-tmpl">
	  <div class="row marginTop">
	    <table class="table table-striped">
	      	<thead>
	        	<tr>
	          		<th>标题</th>
					<th>渠道</th>
					<th>上传时间</th>
	          		<th>播放量</th>
					<th>操作</th>
	        	</tr>
	      	</thead>
			<tbody>
				{{each(i,video) body.videos}}
					<tr>
	          			<td><a href="${video.link}" target="_black">${video.title}</a></td>
						<td>${video.channel}</td>
						<td>${video.uploadTime}</td>
						<td>${video.playCount}</td>
	          			<td>
							<button type="button" class="btn btn-info btn-xs showChartBtn">查看图表</button>
						</td>
	        		</tr>
				{{/each}}
			</tbody>
	    </table>
	  </div>
	  <div class="row">
    	<ul class="pager">
     	   	<li class="{{if body.hasPrePage == 0}}disabled{{/if}}" id="prePage"><a href="#">上一页</a></li>
			<li class="{{if body.hasNextPage == 0}}disabled{{/if}}" id="nextPage"><a href="#">下一页</a></li>
    	</ul>
	  </div>
	</script>
	<script id="channelListTmpl" type="text/x-jquery-tmpl">
		<option value="所有渠道" selected="selected">所有渠道</option>
        {{each(i, channel) channels}}
			<option value="${channel}" >${channel}</option>
       	{{/each}}
    </script>

	<script src="js/jquery-1.11.3.min.js"></script>
	<script src="js/jquery.tmpl.js">
	<script src="js/jquery-ui.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/common.js"></script>
	<script src="js/statisticsHome.js"></script>

</body>
</html>
